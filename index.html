<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Correction Exercice 5 - Indices Labyrinthe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: auto;
            margin: 15px 0;
            position: relative;
        }

        .code-line {
            display: block;
            padding: 2px 0;
        }

        .keyword {
            color: #569cd6;
        }

        .function {
            color: #dcdcaa;
        }

        .number {
            color: #b5cea8;
        }

        .comment {
            color: #6a9955;
            font-style: italic;
        }

        .variable {
            color: #9cdcfe;
        }

        .string {
            color: #ce9178;
        }

        .indice-card {
            background: white;
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 15px 0;
            border-radius: 5px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .indice-card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .indice-card.active {
            background: #e8eaf6;
            border-left-color: #ff6b6b;
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.3);
        }

        .indice-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .indice-badge {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .indice-description {
            color: #555;
            line-height: 1.8;
            font-size: 1.05em;
        }

        .highlight-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .highlight-box strong {
            color: #856404;
        }

        .example-section {
            margin-top: 20px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
        }

        .example-title {
            font-weight: bold;
            color: #1976d2;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .grid-visual {
            display: grid;
            grid-template-columns: repeat(4, 60px);
            gap: 5px;
            margin: 20px 0;
            justify-content: center;
        }

        .cell {
            width: 60px;
            height: 60px;
            border: 3px solid #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            background: white;
            transition: all 0.3s ease;
        }

        .cell.highlight-a {
            background: #ffeb3b;
            animation: pulse 1s infinite;
        }

        .cell.highlight-b {
            background: #ff9800;
            animation: pulse 1s infinite;
        }

        .cell.highlight-c {
            background: #4caf50;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .arrow {
            font-size: 2em;
            color: #667eea;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            flex: 1;
            position: relative;
        }

        .step::after {
            content: '';
            position: absolute;
            top: 25px;
            left: 50%;
            width: 100%;
            height: 3px;
            background: #ddd;
            z-index: -1;
        }

        .step:last-child::after {
            display: none;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .step.active .step-circle {
            background: #667eea;
            color: white;
            transform: scale(1.2);
        }

        .step-label {
            font-size: 0.9em;
            text-align: center;
            color: #666;
        }

        .visual-demo {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .legend {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            border: 2px solid #333;
        }

        .formula {
            background: #f0f4f8;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            text-align: center;
            margin: 15px 0;
            border: 2px dashed #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß© Correction Exercice 5</h1>
            <p>Comprendre les indices A, B et C dans la cr√©ation du labyrinthe</p>
        </div>

        <div class="main-content">
            <!-- Section Code Python -->
            <div class="section full-width">
                <h2>üìù Code Python √† Compl√©ter</h2>
                <div class="code-block">
<span class="code-line"><span class="keyword">def</span> <span class="function">creer_labyrinthe</span>(<span class="variable">self</span>, <span class="variable">ligne</span>, <span class="variable">colonne</span>, <span class="variable">haut</span>, <span class="variable">long</span>):</span>
<span class="code-line">    <span class="keyword">if</span> <span class="variable">haut</span> == <span class="number">1</span>: <span class="comment"># Cas de base</span></span>
<span class="code-line">        <span class="keyword">for</span> <span class="variable">k</span> <span class="keyword">in</span> <span class="function">range</span>(<span class="variable">long</span> - <span class="number">1</span>):</span>
<span class="code-line">            <span class="variable">self</span>.<span class="function">creer_passage</span>(<span class="variable">ligne</span>, <span class="variable">colonne</span> + <span class="variable">k</span>, <span class="variable">ligne</span>, <span class="variable">colonne</span> + <span class="variable">k</span> + <span class="number">1</span>)</span>
<span class="code-line">                                      <span style="background: #ffeb3b; color: #000; padding: 2px 5px;">‚Üë Indice A</span>     <span style="background: #ff9800; color: #fff; padding: 2px 5px;">‚Üë Indice B</span>     <span style="background: #4caf50; color: #fff; padding: 2px 5px;">‚Üë Indice C</span></span>
<span class="code-line">    <span class="keyword">elif</span> <span class="variable">long</span> == <span class="number">1</span>: <span class="comment"># Cas de base</span></span>
<span class="code-line">        <span class="keyword">for</span> <span class="variable">k</span> <span class="keyword">in</span> <span class="function">range</span>(<span class="variable">haut</span> - <span class="number">1</span>):</span>
<span class="code-line">            <span class="variable">self</span>.<span class="function">creer_passage</span>(<span class="variable">ligne</span> + <span class="variable">k</span>, <span class="variable">colonne</span>, <span class="variable">ligne</span> + <span class="variable">k</span> + <span class="number">1</span>, <span class="variable">colonne</span>)</span>
<span class="code-line">    <span class="keyword">else</span>: <span class="comment"># Appels r√©cursifs</span></span>
<span class="code-line">        <span class="comment"># Code non √©tudi√© (Ne pas compl√©ter)</span></span>
                </div>
            </div>

            <!-- Section Indices -->
            <div class="section">
                <h2>üéØ Les Trois Indices Expliqu√©s</h2>
                
                <div class="indice-card" onclick="highlightIndice('a')">
                    <div class="indice-title">
                        <span class="indice-badge">Indice A</span>
                        <span>colonne + k</span>
                    </div>
                    <div class="indice-description">
                        <p><strong>R√¥le :</strong> Repr√©sente la position <strong>horizontale de la cellule actuelle</strong> dans la boucle.</p>
                        <div class="highlight-box">
                            <strong>üí° Explication :</strong> Quand on parcourt une ligne fixe, on doit avancer cellule par cellule horizontalement. La variable <code>k</code> varie de 0 √† (long-2), donc <code>colonne + k</code> donne la position de la cellule courante sur cette ligne.
                        </div>
                        <div class="formula">
                            Cellule 1 : (ligne, <span style="background: #ffeb3b; padding: 3px 8px;">colonne + k</span>)
                        </div>
                    </div>
                </div>

                <div class="indice-card" onclick="highlightIndice('b')">
                    <div class="indice-title">
                        <span class="indice-badge" style="background: #ff9800;">Indice B</span>
                        <span>ligne</span>
                    </div>
                    <div class="indice-description">
                        <p><strong>R√¥le :</strong> Repr√©sente la <strong>ligne fixe</strong> sur laquelle on travaille.</p>
                        <div class="highlight-box">
                            <strong>üí° Explication :</strong> Dans le cas de base <code>haut == 1</code>, on a une seule ligne horizontale. Le param√®tre <code>ligne</code> reste constant pendant toute la boucle, car on cr√©e des passages sur cette m√™me ligne entre cellules adjacentes.
                        </div>
                        <div class="formula">
                            Cellule 2 : (<span style="background: #ff9800; padding: 3px 8px; color: white;">ligne</span>, colonne + k + 1)
                        </div>
                    </div>
                </div>

                <div class="indice-card" onclick="highlightIndice('c')">
                    <div class="indice-title">
                        <span class="indice-badge" style="background: #4caf50;">Indice C</span>
                        <span>colonne + k + 1</span>
                    </div>
                    <div class="indice-description">
                        <p><strong>R√¥le :</strong> Repr√©sente la position <strong>horizontale de la cellule voisine</strong> (√† droite).</p>
                        <div class="highlight-box">
                            <strong>üí° Explication :</strong> Pour cr√©er un passage entre deux cellules adjacentes, on doit conna√Ætre les positions des deux cellules. La cellule voisine est juste √† droite, donc sa colonne est <code>(colonne + k) + 1</code>, soit <code>colonne + k + 1</code>.
                        </div>
                        <div class="formula">
                            Voisin de droite : (ligne, <span style="background: #4caf50; padding: 3px 8px; color: white;">colonne + k + 1</span>)
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section Visualisation -->
            <div class="section">
                <h2>üé® Visualisation Interactive</h2>
                
                <div class="step-indicator">
                    <div class="step active">
                        <div class="step-circle">1</div>
                        <div class="step-label">Cellule actuelle<br/>(ligne, colonne+k)</div>
                    </div>
                    <div class="step">
                        <div class="step-circle">2</div>
                        <div class="step-label">M√™me ligne<br/>(ligne)</div>
                    </div>
                    <div class="step">
                        <div class="step-circle">3</div>
                        <div class="step-label">Cellule suivante<br/>(ligne, colonne+k+1)</div>
                    </div>
                </div>

                <div class="visual-demo">
                    <p style="text-align: center; font-weight: bold; margin-bottom: 15px;">
                        Exemple : ligne = 0, colonne = 0, long = 4 (donc k varie de 0 √† 2)
                    </p>
                    
                    <div class="controls">
                        <button class="btn btn-primary" onclick="animateStep(0)">k = 0</button>
                        <button class="btn btn-primary" onclick="animateStep(1)">k = 1</button>
                        <button class="btn btn-primary" onclick="animateStep(2)">k = 2</button>
                        <button class="btn btn-secondary" onclick="resetAnimation()">R√©initialiser</button>
                    </div>

                    <div class="grid-visual" id="gridVisual">
                        <div class="cell" data-pos="0,0">(0,0)</div>
                        <div class="cell" data-pos="0,1">(0,1)</div>
                        <div class="cell" data-pos="0,2">(0,2)</div>
                        <div class="cell" data-pos="0,3">(0,3)</div>
                    </div>

                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #ffeb3b;"></div>
                            <span><strong>Indice A</strong> : colonne + k</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #ff9800;"></div>
                            <span><strong>Indice B</strong> : ligne (fixe)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #4caf50;"></div>
                            <span><strong>Indice C</strong> : colonne + k + 1</span>
                        </div>
                    </div>

                    <div id="explanationText" style="margin-top: 20px; padding: 15px; background: #e8eaf6; border-radius: 8px; min-height: 80px;">
                        <p style="text-align: center; color: #666;">üëÜ Cliquez sur un bouton k pour voir l'animation</p>
                    </div>
                </div>
            </div>

            <!-- Section Tableau R√©capitulatif -->
            <div class="section full-width">
                <h2>üìä Tableau R√©capitulatif des It√©rations</h2>
                
                <table style="width: 100%; border-collapse: collapse; background: white;">
                    <thead>
                        <tr style="background: #667eea; color: white;">
                            <th style="padding: 15px; border: 1px solid #ddd;">Valeur de k</th>
                            <th style="padding: 15px; border: 1px solid #ddd;">Indice A<br/>(colonne + k)</th>
                            <th style="padding: 15px; border: 1px solid #ddd;">Indice B<br/>(ligne)</th>
                            <th style="padding: 15px; border: 1px solid #ddd;">Indice C<br/>(colonne + k + 1)</th>
                            <th style="padding: 15px; border: 1px solid #ddd;">Passage cr√©√© entre</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; font-weight: bold;">0</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; background: #fff9c4;">0 + 0 = <strong>0</strong></td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; background: #ffe0b2;"><strong>0</strong></td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; background: #c8e6c9;">0 + 0 + 1 = <strong>1</strong></td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">(0, 0) ‚Üî (0, 1)</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; font-weight: bold;">1</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; background: #fff9c4;">0 + 1 = <strong>1</strong></td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; background: #ffe0b2;"><strong>0</strong></td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; background: #c8e6c9;">0 + 1 + 1 = <strong>2</strong></td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">(0, 1) ‚Üî (0, 2)</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; font-weight: bold;">2</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; background: #fff9c4;">0 + 2 = <strong>2</strong></td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; background: #ffe0b2;"><strong>0</strong></td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; background: #c8e6c9;">0 + 2 + 1 = <strong>3</strong></td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">(0, 2) ‚Üî (0, 3)</td>
                        </tr>
                    </tbody>
                </table>

                <div class="example-section" style="margin-top: 30px;">
                    <div class="example-title">üîç Pourquoi ces formules ?</div>
                    <ul style="line-height: 2; margin-left: 20px;">
                        <li><strong>colonne + k</strong> : On commence √† la position <code>colonne</code> et on avance de <code>k</code> cases √† chaque it√©ration.</li>
                        <li><strong>ligne</strong> : Reste constante car on cr√©e des passages horizontaux sur la m√™me ligne.</li>
                        <li><strong>colonne + k + 1</strong> : La cellule voisine est juste une case √† droite de <code>colonne + k</code>.</li>
                    </ul>
                </div>
            </div>

            <!-- Section Analogie -->
            <div class="section full-width">
                <h2>üéì Analogie Simple</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                    <div style="background: #fff9c4; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 3em;">üö∂</div>
                        <h3 style="color: #f57f17; margin: 10px 0;">Indice A</h3>
                        <p>Votre position actuelle en marchant dans un couloir</p>
                    </div>
                    <div style="background: #ffe0b2; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 3em;">‚û°Ô∏è</div>
                        <h3 style="color: #e65100; margin: 10px 0;">Indice B</h3>
                        <p>Le couloir (ligne) o√π vous marchez</p>
                    </div>
                    <div style="background: #c8e6c9; padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 3em;">üëâ</div>
                        <h3 style="color: #2e7d32; margin: 10px 0;">Indice C</h3>
                        <p>La prochaine case devant vous</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = -1;

        function highlightIndice(indice) {
            // Retirer toutes les classes active
            document.querySelectorAll('.indice-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // Ajouter la classe active √† la carte cliqu√©e
            event.currentTarget.classList.add('active');
            
            // Mettre √† jour les √©tapes
            const steps = document.querySelectorAll('.step');
            steps.forEach(step => step.classList.remove('active'));
            
            if (indice === 'a') {
                steps[0].classList.add('active');
            } else if (indice === 'b') {
                steps[1].classList.add('active');
            } else if (indice === 'c') {
                steps[2].classList.add('active');
            }
        }

        function animateStep(k) {
            currentStep = k;
            const cells = document.querySelectorAll('.cell');
            const explanationText = document.getElementById('explanationText');
            
            // R√©initialiser toutes les cellules
            cells.forEach(cell => {
                cell.classList.remove('highlight-a', 'highlight-b', 'highlight-c');
            });

            // Activer les √©tapes appropri√©es
            const steps = document.querySelectorAll('.step');
            steps.forEach(step => step.classList.remove('active'));
            steps[0].classList.add('active');
            steps[1].classList.add('active');
            steps[2].classList.add('active');

            // Valeurs pour cet exemple : ligne=0, colonne=0
            const ligne = 0;
            const colonne = 0;
            
            const indiceA = colonne + k;  // colonne + k
            const indiceB = ligne;         // ligne
            const indiceC = colonne + k + 1;  // colonne + k + 1

            // Appliquer les couleurs
            cells[indiceA].classList.add('highlight-a');
            cells[indiceC].classList.add('highlight-c');
            
            // Toutes les cellules sont sur la ligne 0, donc toutes en orange
            cells.forEach(cell => {
                cell.style.borderTop = '5px solid #ff9800';
            });

            // Texte d'explication
            explanationText.innerHTML = `
                <div style="text-align: center;">
                    <h3 style="color: #667eea; margin-bottom: 15px;">It√©ration k = ${k}</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-top: 15px;">
                        <div>
                            <strong style="color: #f57f17;">Indice A :</strong><br/>
                            colonne + k = ${colonne} + ${k} = <strong>${indiceA}</strong><br/>
                            <span style="font-size: 0.9em; color: #666;">Cellule actuelle : (${indiceB}, ${indiceA})</span>
                        </div>
                        <div>
                            <strong style="color: #e65100;">Indice B :</strong><br/>
                            ligne = <strong>${indiceB}</strong><br/>
                            <span style="font-size: 0.9em; color: #666;">Ligne fixe pour ce passage</span>
                        </div>
                        <div>
                            <strong style="color: #2e7d32;">Indice C :</strong><br/>
                            colonne + k + 1 = ${colonne} + ${k} + 1 = <strong>${indiceC}</strong><br/>
                            <span style="font-size: 0.9em; color: #666;">Cellule voisine : (${indiceB}, ${indiceC})</span>
                        </div>
                    </div>
                    <div style="margin-top: 15px; padding: 10px; background: #c8e6c9; border-radius: 5px;">
                        <strong>üîó Passage cr√©√© entre :</strong> (${indiceB}, ${indiceA}) ‚Üî (${indiceB}, ${indiceC})
                    </div>
                </div>
            `;
        }

        function resetAnimation() {
            currentStep = -1;
            const cells = document.querySelectorAll('.cell');
            cells.forEach(cell => {
                cell.classList.remove('highlight-a', 'highlight-b', 'highlight-c');
                cell.style.borderTop = '3px solid #333';
            });
            
            const steps = document.querySelectorAll('.step');
            steps.forEach(step => step.classList.remove('active'));
            steps[0].classList.add('active');

            document.getElementById('explanationText').innerHTML = `
                <p style="text-align: center; color: #666;">üëÜ Cliquez sur un bouton k pour voir l'animation</p>
            `;
        }

        // Animation automatique au chargement
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.querySelectorAll('.indice-card')[0].classList.add('active');
            }, 500);
        });
    </script>
</body>
</html>
