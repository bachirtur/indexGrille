<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Correction NSI - Labyrinthe Diviser pour Régner</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #e74c3c;
            --highlight: #f1c40f;
            --bg: #f4f7f6;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--primary);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        h1 { text-align: center; color: var(--primary); }

        .grid-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        /* Style de la grille 4x8 */
        #maze {
            display: grid;
            grid-template-columns: repeat(8, 40px);
            grid-template-rows: repeat(4, 40px);
            gap: 0;
            border: 3px solid #8e44ad; /* Bordure violette comme l'image */
            background-color: white;
        }

        .cell {
            width: 40px;
            height: 40px;
            border: 1px solid #add8e6; /* Lignes bleues claires */
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            transition: all 0.3s;
        }

        .cell.active { background-color: var(--highlight); }
        .cell.target { background-color: #ffeb3b; border: 2px solid var(--accent); }

        /* Zones de texte */
        .explanation-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        pre {
            background: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 14px;
        }

        .code-line { cursor: pointer; display: block; padding: 2px 5px; }
        .code-line:hover { background: #3e4451; }
        .selected-line { background: #3e4451; border-left: 3px solid var(--highlight); }

        .desc-box {
            border-left: 5px solid var(--accent);
            padding: 15px;
            background: #fff5f5;
        }

        .keyword { color: #c678dd; }
        .func { color: #61afef; }
        .param { color: #d19a66; }
        .comment { color: #5c6370; font-style: italic; }
    </style>
</head>
<body>

<div class="container">
    <h1>Visualisation : Indices de <code>creer_labyrinthe</code></h1>
    
    <p>Cliquez sur les lignes de code en jaune pour visualiser l'action sur la grille (Exemple sur une portion de la grille 4x8).</p>

    <div class="grid-container">
        <div id="maze">
            <!-- Grille générée par JS -->
        </div>
    </div>

    <div class="explanation-section">
        <div>
            <h3>Code Python (Cas de base)</h3>
            <pre>
<span class="code-line" id="line1" onclick="highlight(1)">    <span class="keyword">if</span> haut == 1 : <span class="comment"># Cas de base Horizontal</span></span>
<span class="code-line" id="line2" onclick="highlight(2)">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="func">range</span>(long - 1):</span>
<span class="code-line" id="line3" onclick="highlight(3)">            self.<span class="func">creer_passage</span>(ligne, colonne + k, ligne, colonne + k + 1)</span>

<span class="code-line" id="line4" onclick="highlight(4)">    <span class="keyword">elif</span> long == 1: <span class="comment"># Cas de base Vertical</span></span>
<span class="code-line" id="line5" onclick="highlight(5)">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="func">range</span>(haut - 1):</span>
<span class="code-line" id="line6" onclick="highlight(6)">            self.<span class="func">creer_passage</span>(ligne + k, colonne, ligne + k + 1, colonne)</span>
            </pre>
        </div>

        <div id="description" class="desc-box">
            <p><strong>Analyse des indices :</strong> Sélectionnez une ligne de code pour voir les détails.</p>
        </div>
    </div>
    
    <div style="margin-top: 20px; font-size: 0.9em; color: #666;">
        <p><strong>Note sur l'Exercice 6 :</strong> Pour la grille 4x8, l'algorithme coupe verticalement au milieu (4 < 8), crée un passage au Nord (ligne 0), puis recommence récursivement sur les deux blocs 4x4 obtenus.</p>
    </div>
</div>

<script>
    // Création de la grille 4x8
    const maze = document.getElementById('maze');
    for (let r = 0; r < 4; r++) {
        for (let c = 0; c < 8; c++) {
            const cell = document.createElement('div');
            cell.className = 'cell';
            cell.id = `cell-${r}-${c}`;
            cell.innerHTML = `(${r},${c})`;
            maze.appendChild(cell);
        }
    }

    function highlight(lineNumber) {
        // Reset styles
        document.querySelectorAll('.cell').forEach(c => c.className = 'cell');
        document.querySelectorAll('.code-line').forEach(l => l.classList.remove('selected-line'));
        
        const desc = document.getElementById('description');
        document.getElementById('line' + lineNumber).classList.add('selected-line');

        if (lineNumber === 1 || lineNumber === 2 || lineNumber === 3) {
            // Simulation cas horizontal sur la ligne 1
            desc.innerHTML = `
                <h4>Cas : haut == 1</h4>
                <p>On est sur une seule ligne. On veut supprimer les murs verticaux pour créer un couloir horizontal.</p>
                <ul>
                    <li><strong>ligne</strong> : reste fixe (ex: ligne 1).</li>
                    <li><strong>colonne + k</strong> : La cellule actuelle.</li>
                    <li><strong>colonne + k + 1</strong> : La cellule juste à droite.</li>
                </ul>
            `;
            // Colorier un exemple (ligne 1, k=0,1,2...)
            for(let i=0; i<3; i++) {
                document.getElementById(`cell-1-${i}`).classList.add('active');
                document.getElementById(`cell-1-${i+1}`).classList.add('target');
            }
        } 
        else if (lineNumber === 4 || lineNumber === 5 || lineNumber === 6) {
            desc.innerHTML = `
                <h4>Cas : long == 1</h4>
                <p>On est sur une seule colonne. On veut supprimer les murs horizontaux pour créer un couloir vertical.</p>
                <ul>
                    <li><strong>colonne</strong> : reste fixe (ex: colonne 5).</li>
                    <li><strong>ligne + k</strong> : La cellule actuelle.</li>
                    <li><strong>ligne + k + 1</strong> : La cellule juste en dessous.</li>
                </ul>
            `;
            // Colorier un exemple (colonne 5, k=0,1,2...)
            for(let i=0; i<3; i++) {
                document.getElementById(`cell-${i}-5`).classList.add('active');
                document.getElementById(`cell-${i+1}-5`).classList.add('target');
            }
        }
    }
</script>

</body>
</html>
